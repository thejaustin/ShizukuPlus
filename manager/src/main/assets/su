#!/system/bin/sh

# ShizukuPlus Fake SU Wrapper
# Allows legacy root apps to function via Shizuku+ privileges.
# Drop-in replacement for /system/bin/su for apps that support custom paths.

# If no arguments are provided, or if it's just a shell request, drop into rish
if [ "$1" = "" ]; then
    exec sh /data/data/moe.shizuku.privileged.api/files/rish
fi

# The most common usage from legacy apps is: su -c "command"
if [ "$1" = "-c" ]; then
    shift
    # Pass the rest of the arguments directly to rish
    exec sh /data/data/moe.shizuku.privileged.api/files/rish -c "$*"
fi

# Fallback: Just pass all arguments to rish
exec sh /data/data/moe.shizuku.privileged.api/files/rish "$@"
